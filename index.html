<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Majorettes & Pink Lady's</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="lock-screen">
        <div class="lock-box">
            <img src="images/IMG-20241020-WA0025.jpg" alt="Logo">
            <h2>Acc√®s Priv√©</h2>
            <p>Entrez le code secret</p>
            <input type="password" id="input-code" placeholder="Code...">
            <button class="btn-lock" onclick="verifierCode()">Valider ‚ú®</button>
        </div>
    </div>

    <div id="top-announcement" class="announcement-bar" style="display: none;">
        <div class="scrolling-text" id="announcement-text"></div>
    </div>

    <nav>
        <ul>
            <li><a href="#actus">Actus</a></li>
            <li><a href="#calendrier">Planning</a></li>
            <li><a href="#galerie">Photos</a></li>
            <li><a href="#playlist">Musiques</a></li>
            <li><a href="#contact">Contact</a></li>
            <li><a href="#coach" id="admin-link">Coach üîê</a></li>
        </ul>
    </nav>

    <header class="hero">
        <h2>Majorettes & Pink Lady's</h2>
        <p>Saison 2025 - 2026</p>
    </header>

    <main class="section">
        <div class="dashboard-grid">
            <div id="actus" class="news-box">
                <h3>üì¢ √âv√®nements √† venir</h3>
                <div id="main-event-list">Chargement...</div>
            </div>
            <div class="events-box">
                <h3>üí° Rappel Rapide</h3>
                <p>N'oubliez pas votre mat√©riel !</p>
                <p>üìç Mercredi : Fayol Gaffard | Vendredi : La Tardive</p>
            </div>
        </div>

        <section id="calendrier" style="margin-top: 40px;">
            <div class="calendar-container">
                <div id="info-panel" class="info-panel">
                    <h4>D√©tails</h4>
                    <p>Cliquez sur un jour color√©.</p>
                </div>
                <div class="calendar-main">
                    <div class="calendar-header">
                        <button onclick="changeMonth(-1)">‚óÄ</button>
                        <strong id="currentMonthYear"></strong>
                        <button onclick="changeMonth(1)">‚ñ∂</button>
                    </div>
                    <div id="calendarGrid" class="calendar-grid"></div>
                </div>
            </div>
        </section>

        <section id="galerie" style="margin-top: 40px;">
            <h3>üì∏ Galerie Photos & Vid√©os</h3>
            <div class="gallery-grid">
                <div class="gallery-item" onclick="openLightbox(this)" data-album="https://photos.app.goo.gl/VM5UqU84EupMKEvYA">
                    <img src="images/img_telethon2025.jpg" alt="T√©l√©thon 2025">
                </div>
                <div class="gallery-item" onclick="openLightbox(this)" data-album="https://photos.app.goo.gl/9neX6XKm2MDYHNhGA">
                    <img src="images/img_noel2025.jpg" alt="No√´l 2025">
                </div>
                <div class="gallery-item" onclick="openLightbox(this)" data-album="https://photos.app.goo.gl/e2GK5njar4rrph1v5">
                    <video src="images/vid_retauxflamb2025.mp4" muted></video>
                </div>
                <div class="gallery-item" onclick="openLightbox(this)" data-album="https://photos.app.goo.gl/KJjPVdoHpbHnRiHV8">
                    <img src="images/img_octobrerose2025.jpg" alt="Octobre Rose 2025">
                </div>
            </div>

            <div class="archive-box">
                <label>üìÅ Autres albums :</label>
                <select id="archive-select" onchange="if(this.value) window.open(this.value, '_blank')">
                    <option value="">Choisir un √©v√©nement...</option>
                    <option value="https://photos.app.goo.gl/VM5UqU84EupMKEvYA">T√©l√©thon 2025</option>
                    </select>
            </div>
        </section>
    </main>

    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <span class="close-lightbox">√ó</span>
        <div class="lightbox-container" onclick="event.stopPropagation()">
            <div id="lightbox-media-container"></div>
            <h4 id="lightbox-caption"></h4>
            <div id="album-link-container"></div>
        </div>
    </div>

    <script src="script.js" type="module"></script>
    <script>
        function verifierCode() {
            const code = document.getElementById('input-code').value;
            if (code === "MP42#") {
                localStorage.setItem('majorettes_auth', 'true');
                document.getElementById('lock-screen').style.display = 'none';
            } else if (code === "MAPL42") {
                window.location.href = "admin.html";
            } else { alert("Code incorrect üéÄ"); }
        }
        if (localStorage.getItem('majorettes_auth') === 'true') {
            document.getElementById('lock-screen').style.display = 'none';
        }
    </script>
</body>
</html>